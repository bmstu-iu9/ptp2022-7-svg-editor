<h1 align="center">
    Artem Nostrum
</h1>

>Данный проект представляет собой реализацию векторного графического редактора с системой управления учётными записями в рамках проектно-технологической практики кафедры ИУ9 в 2022 году

# Содержание документации
### Инсталяция проекта **АНДРЕЙ**
* [Требуемые параметры системы](#требуемые-параметры-системы)
* [Установка](#установка)
* [Запуск](#запуск)
### Возможности редактора
* [Инструменты](#инструменты)
  * [<img src="./svg_editor/static/svg_editor/icons/cursor.svg" height=16> Курсор <img src="./svg_editor/static/svg_editor/icons/cursor-active.svg" height=16>](#курсор)
  * [<img src="./svg_editor/static/svg_editor/icons/pencil.svg" height=16> Карандаш <img src="./svg_editor/static/svg_editor/icons/pencil-active.svg" height=16>](#карандаш)
  * [<img src="./svg_editor/static/svg_editor/icons/line.svg" height=16> Линия <img src="./svg_editor/static/svg_editor/icons/line-active.svg" height=16>](#линия)
  * [Фигуры](#фигуры)
    * [<img src="./svg_editor/static/svg_editor/icons/polygon.svg" height=16> Многоугольник <img src="./svg_editor/static/svg_editor/icons/polygon-active.svg" height=16>](#многоугольник)
    * [<img src="./svg_editor/static/svg_editor/icons/rect.svg" height=16> Прямоугольник <img src="./svg_editor/static/svg_editor/icons/rect-active.svg" height=16>](#прямоугольник)
    * [<img src="./svg_editor/static/svg_editor/icons/ellipse.svg" height=16> Эллипс <img src="./svg_editor/static/svg_editor/icons/ellipse-active.svg" height=16>](#эллипс)
    * [<img src="./svg_editor/static/svg_editor/icons/star.svg" height=16> Звезда <img src="./svg_editor/static/svg_editor/icons/star-active.svg" height=16>](#звезда)
  * [<img src="./svg_editor/static/svg_editor/icons/path.svg" height=16> Путь <img src="./svg_editor/static/svg_editor/icons/path-active.svg" height=16>](#путь)
  * [<img src="./svg_editor/static/svg_editor/icons/text.svg" height=16> Текст <img src="./svg_editor/static/svg_editor/icons/text-active.svg" height=16>](#текст)
  * [<img src="./svg_editor/static/svg_editor/icons/fill.svg" height=16> Заливка <img src="./svg_editor/static/svg_editor/icons/fill-active.svg" height=16>](#заливка)
  * [<img src="./svg_editor/static/svg_editor/icons/eraser.svg" height=16> Ластик <img src="./svg_editor/static/svg_editor/icons/eraser-active.svg" height=16>](#ластик)
  * [<img src="./svg_editor/static/svg_editor/icons/move.svg" height=16> Перемещение <img src="./svg_editor/static/svg_editor/icons/move-active.svg" height=16>](#перемещение)
  * [<img src="./svg_editor/static/svg_editor/icons/rotate.svg" height=16> Вращение <img src="./svg_editor/static/svg_editor/icons/rotate-active.svg" height=16>](#вращение)
  * [Трансформация](#трансформация)
    * [<img src="./svg_editor/static/svg_editor/icons/deform.svg" height=16> Деформация <img src="./svg_editor/static/svg_editor/icons/deform-active.svg" height=16>](#деформация)
    * [<img src="./svg_editor/static/svg_editor/icons/scale.svg" height=16> Масштабирование <img src="./svg_editor/static/svg_editor/icons/scale-active.svg" height=16>](#масштабирование)
    * [<img src="./svg_editor/static/svg_editor/icons/split.svg" height=16> Разбиение <img src="./svg_editor/static/svg_editor/icons/split-active.svg" height=16>](#разбиение)
    * [<img src="./svg_editor/static/svg_editor/icons/skew.svg" height=16> Скос <img src="./svg_editor/static/svg_editor/icons/skew-active.svg" height=16>](#скос)
    * [<img src="./svg_editor/static/svg_editor/icons/mirror.svg" height=16> Отражение <img src="./svg_editor/static/svg_editor/icons/mirror-active.svg" height=16>](#отражение)
    * [<img src="./svg_editor/static/svg_editor/icons/compress.svg" height=16> Расширение-сжатие <img src="./svg_editor/static/svg_editor/icons/compress-active.svg" height=16>](#расширение-сжатие)
* [Отмена и повтор действий](#отмена-и-повтор-действий)
* [<img src="./svg_editor/static/svg_editor/icons/layers.svg" height=16>Слои<img src="./svg_editor/static/svg_editor/icons/layers-active.svg" height=16> **ГАМИД**](#слои)
* [Проекты **АНДРЕЙ**](#проекты)
### Управление учётными записями
* [Регистрация](#регистрация)
* [Авторизация](#авторизация)
* [Личный кабинет](#личный-кабинет)
* [Смена почты](#смена-почты)
* [Смена пароля](#смена-пароля)
### Авторство
* [Состав команды](#состав-команды)
* [Куратор](#куратор)
### Лицензия
* [MIT](#рисует-и-точка--это-пользовательский-продукт-с-открытым-исходным-кодом-распространяемый-под-лицензией-mit-license)
### Благодарность
* [Спасибо](#нашему-куратору-посевину-даниле-павловичу-большое-спасибо-за-то-что-направлял-и-вёл-наш-проект-а-так-же-помогал-решать-все-вопросы-касающиеся-разработки-)

# Инсталяция проекта
Инструкции ниже помогут вам загрузить и запустить копию проекта для личного использования на вашей локальной машине.
### Требуемые параметры системы
* python: 3.8.10 и выше
* для unix обязательно иметь пакет python3-venv
### Установка
1. **Скопируйте репозиторий в вашу директорию и перейдите в корень проекта**
    ```shell
    $ git clone <репозиторий> --branch=main
    $ cd ptp2022-7-svg-editor
    ```
2. **Создайте виртуальную среду и активируйте ее**
    ```shell
    $ python3 -m venv venv
    $ source venv/bin/activate
    ```
    <details>
    <summary>Windows</summary>
   
    ```shell
    > python -m venv venv
    > venv\Scripts\activate
    ```
    </details>
3. **Установите зависимости**
    ```shell
    (venv) $ python3 -m pip install --upgrade pip
    (venv) $ pip install -r requirements.txt
    ```
4. **Сделайте миграции**
    ```shell
    (venv) $ python manage.py migrate
    ```
### Запуск
```shell
(venv) $ python manage.py runserver
```

# Возможности редактора
## **Инструменты**
* Все инструменты, кроме курсора, не реагируют на нажатия мыши за пределами холста.
* После окончания рисования любым инструментом, кроме зеркала, действующий объект выделяется линиями голубого цвета.
* При любом активном действии на панели параметров или инструментов или после нажатия клавиши `Esc` выделения стираются и в случае, если использование инструмента не было закончено, последнее действие безвозвратно отменяется.
* `Объектом на координатах` далее будет обозначаться объект, которому принадлежит точка с данными координатами, лежащий на активном слое и для которого не найдётся другого объекта на активном слое такого, что ему так же будет принадлежать данная точка и он будет находиться выше первого.
### Курсор
* При нажатии ЛКМ[^lkm] не дальше 30-ти пикселей хотя бы от одной из границ холста эта или эти границы становятся сдвигаемыми движениями курсора мыши с зажатой клавишой. При этом все объекты холста не меняют местоположения относительно страницы.
* В случае, если таких границ не нашлось, и координаты нажатия мыши пришлись на холст, за любым последующим движением курсора мыши следует перемещение холста вместе с его содержимым по странице.
* ![cursor](https://user-images.githubusercontent.com/102258145/184535145-49c3d2c0-484c-45c3-a0cc-07c4b85e68e8.gif)
### Карандаш
* При зажатой ЛКМ[^lkm] происходит рисование полилинии по тем точкам, на которых было зафиксировано движение курсора мыши с зажатой клавишей.
* В случае клика мышки без её перемещения объект не создаётся.
* ![pancil](https://user-images.githubusercontent.com/102258145/184534897-20ec9d96-d265-438b-a313-fa0e54aaddaf.gif)
### Линия
* При нажатии ЛКМ[^lkm] устанавливаются две точки линии.
* При движении курсора мыши с зажатой ЛКМ перемещается вторая точка.
* При отпускании ЛКМ рисование заканчивается.
* ![line](https://user-images.githubusercontent.com/102258145/184534898-ac67a60d-196e-4f45-95ba-8bd27d68dbe7.gif)
### _Фигуры_
#### Многоугольник
* При первом нажатии ЛКМ[^lkm] устанавливаются первые две точки многоугольника.
* При движении с зажатой кнопкой изменяются координаты последней точки многоугольника.
* После очередного нажатия ЛКМ в конец массива точек многоугольника добавляется новая точка.
* При перемещении курсора мышки без зажатой ЛКМ более чем на 10 пикселей от последней установленной точки рисование прекращается.
* ![polygon](https://user-images.githubusercontent.com/102258145/184534899-c7a53814-a9f3-434c-ab7c-280bdc717faf.gif)
#### Прямоугольник
* При нажатии ЛКМ[^lkm] устанавливаются две точки, обозначающие противоположенные углы прямоугольника.
* При движении курсора мыши с зажатой ЛКМ перемещается вторая точка.
* При отпускании ЛКМ рисование заканчивается.
* ![rect](https://user-images.githubusercontent.com/102258145/184534900-ccab2435-25d3-4818-a5a0-b818a82423f7.gif)
#### Эллипс
* При нажатии ЛКМ[^lkm] устанавливаются две точки, обозначающие противоположенные углы прямоугольника, в который вписан эллипс.
* При движении курсора мыши с зажатой ЛКМ перемещается вторая точка.
* При отпускании ЛКМ рисование заканчивается.
* ![ellipse](https://user-images.githubusercontent.com/102258145/184534901-83a74822-1ac2-4593-b6fb-be1cb794c8bf.gif)
#### Звезда
* При нажатии ЛКМ[^lkm] устанавливаются две точки, обозначающие противоположенные углы прямоугольника, в который вписана правильная пятиконечная звезда.
* При движении курсора мыши с зажатой ЛКМ перемещается вторая точка.
* При отпускании ЛКМ рисование заканчивается.
* ![star](https://user-images.githubusercontent.com/102258145/184534481-8761cc18-277b-4cf9-9ca9-eb42cd99f085.gif)
### Путь
* При первом нажатии ЛКМ[^lkm] создаётся кривая Безье[^bezier_curve] с началом, концом и контрольными точками на координатах курсора мыши.
* При движении курсора мыши с зажатой кнопкой изменяются координаты контрольной точки конца последней кривой на координаты курсора мыши и, если последняя кривая не первая, изменяются координаты контрольной точки конца предпоследней кривой на координаты курсора мыши, противоположенные относительно конца предпоследней кривой.
* При движении курсора мыши с отпущенной ЛКМ меняются координаты конца и контрольной точки конца последней кривой.
* При очередном нажатии ЛКМ создаётся новая кривая Безье[^bezier_curve] с началом в конце предыдущей, контрольной точкой начала на координатах, противоположенных координатам контрольной точки конца предыдущей кривой относительно её конца, и концом и контрольной точкой конца на координатах курсора мыши.
* После установки конца очередной кривой на расстоянии от начала первой кривой не более 10-ти пикселей координаты конца последней кривой становятся равными координатам начала первой кривой и координаты контрольной точки конца последней кривой становятся равными координатам точки, противоположенной координатам контрольной точки начала первой кривой относительно её начала, и рисование заканчивается.
* В случае установки конца очередной кривой на координатах её начала, последняя кривая удаляется и рисование заканчивается.
* ![path1](https://user-images.githubusercontent.com/102258145/184533251-02055da9-b465-4fe5-bc6c-184a1efc4478.gif) ![path2](https://user-images.githubusercontent.com/102258145/184533256-7a0b1318-9024-493f-acd8-0ae5cea81b06.gif)
### Текст
* При нажатии ЛКМ[^lkm] устанавливаются две точки, обозначающие противоположенные углы прямоугольника, в который будет вписан текст.
* При движении курсора мыши с зажатой ЛКМ перемещается вторая точка.
* При отпускании ЛКМ рисование заканчивается, запрашивается текст и создаётся текст выстой, равной высоте описанного прямоугольника, и с содержанием, включающим максимальное количество первых символов исходного текста, при которых ширина строки в пикселях не превышает ширину исходного прямоугольника.
* ![text](https://user-images.githubusercontent.com/102258145/184534902-0a1c6393-b2d0-4c6e-b2a3-9d1974fd1a0e.gif)
### Заливка
* При нажатии ЛКМ[^lkm] объекту на координатах[^object_on_coords] присваиваются новые параметры из панели параметров и инструментов: наличие заполнения, цвет заполнения, цвет контура и ширина контура.
* ![fill](https://user-images.githubusercontent.com/102258145/184533864-fcc11d28-d432-4a80-8b33-dc2112665dcb.gif)
### Ластик
* При нажатии ЛКМ[^lkm] объект на координатах[^object_on_coords] удаляется.
* При движении курсора мыши с зажатой ЛКМ повторяется эффект нажатия ЛКМ.
* ![eraser](https://user-images.githubusercontent.com/102258145/184534903-1ddc967c-0c07-4790-9a09-d1c1e12962b0.gif)
### Перемещение
* При нажатии ЛКМ[^lkm] объект на координатах[^object_on_coords] привязывается к движениям курсора мыши и имеет равную ей дельту перемещения.
* ![move](https://user-images.githubusercontent.com/102258145/184534904-9c502564-5851-4c26-90f4-9d8aa7b734e0.gif)
### Вращение
* При перемещении курсора мыши с зажатой ЛКМ[^lkm] объект на координатах[^object_on_coords] совершает поворот относительно своего центра на угол, равный углу перемещения курсора мыши относительно центра объекта.
* ![rotate](https://user-images.githubusercontent.com/102258145/184534907-8874790c-3ff7-4586-8eba-7f12b735a087.gif)
### _Трансформация_
#### Деформация
* После первого клика ЛКМ[^lkm] каждая точка объекта на координатах[^object_on_coords] выделяется кружком синего цвета, а если объект является путём, то так же выделяются все контрольные точки с привязкой голубыми прямыми к соответствующим им началам и концам кривых.
* Каждая выделенная точка является перемещаемой курсором мыши.
* ![deform1](https://user-images.githubusercontent.com/102258145/184533566-154aca28-0652-404a-b2c8-19520db9c963.gif) ![deform2](https://user-images.githubusercontent.com/102258145/184533563-a18c6695-33dd-40cd-b498-3df8f357eca9.gif)
#### Масштабирование
* После первого клика ЛКМ[^lkm] объект на координатах[^object_on_coords] выделяется голубым параллелограммом с синими кружками на углах и серединах его сторон.
* После перемещения одного из кружков масштаб объекта меняется с центром в точке, противоположенной перемещённой относительно центра объекта, и коэффициентом, равным отношению расстояния от противоположенной точки до перемещённой к расстоянию от противоположенной точки до проекции координат курсора мыши на прямую, соединяющую перемещённую точку с центром объекта.
* ![scale](https://user-images.githubusercontent.com/102258145/184533865-2a16eb10-9dcf-46a3-a392-630cecc11b3b.gif)
#### Разбиение
* При нажатии ЛКМ[^lkm] по объекту на координатах[^object_on_coords], если этот объект является путём, прямоугольником или эллипсом, он преобразуется в полилилнию с частотой изгибов, равной значению параметра ширины контура на панели параметров рисования.
* ![split](https://user-images.githubusercontent.com/102258145/184533957-03a07c0a-a996-4d19-8b9e-c8554068971a.gif)
#### Скос
* После первого клика ЛКМ[^lkm] объект на координатах[^object_on_coords] выделяется голубым параллелограммом с синими кружками на углах и серединах его сторон.
* После перемещения кружка на ребре параллелограмма объект скашивается со статичным ребром, противоположенным схваченному, и изменяемому своё положение на холсте схваченному ребру.
* При перемещении кружка на углу параллелограмма создаётся искажение, подобное захвату двух кружков на центрах смежных углу рёбер.
* ![skew](https://user-images.githubusercontent.com/102258145/184534105-ea9bd464-f910-401a-b55c-2763027f62f5.gif)
#### Отражение
* При первом нажатии ЛКМ[^lkm] устанавливаются два синих кружочка и голубая линия между ними.
* При движении курсора мыши с зажатой ЛКМ перемещается второй кружок.
* После отпускания ЛКМ мыши кружочки остаются перемещаемыми.
* При очередном нажатии ЛКМ объект на координатах[^object_on_coords] отражается относительно прямой, отрисованной ранее.
* ![mirror](https://user-images.githubusercontent.com/102258145/184534185-b79bb644-ec91-44c8-a08e-49babe452fea.gif)
#### Расширение-сжатие
* После первого клика ЛКМ[^lkm] объект на координатах[^object_on_coords] выделяется голубым параллелограммом с синими кружками на углах и серединах его сторон.
* После перемещения одного из угловых кружков ширина и высота объекта изменяются в соответствии с отношением ширины и высоты прямой, соединяющей схваченный кружок с противоположенным ему относительно центра объекта, к прямой, соединяющей координаты курсора мыши с противоположенным кружком.
* В случае, если перемещён был кружок с горизонтальной грани, изменяется только высота объекта, а если вертикальной — ширина.
* ![compress](https://user-images.githubusercontent.com/102258145/184534352-62d41f23-36d5-4c6e-ba03-be413d9b52fb.gif)
## Отмена и повтор действий
* Сочетание клавиш `ctrl`+`z` отменяет последнее совершённое действие, если это возможно.
* В свою очередь, `shift`+`ctrl`+`z` воспроизводит последнее отменённое действие, если такое существует.
* История рисования линейна, поэтому после фиксации нового действия, если до этого были не воспроизведённые отменённые действия, они стираются.
## Слои
> Следует описать принцип работы системы слоёв, чтобы прочитав этот абзац можно было понять неподготовленному пользователю
## Проекты
> Аналогично слоям, только относительно этой фичи

# Управление учётными записями
Для работы в редакторе необходимо создать учётную запись, с которой вы сможете хранить созданные файлы на сервере, открывать их для продолжения работы, а также импортировать файлы со своего компьютера.
## Регистрация
* Если у вас ещё нет учётной записи, перейдите на страницу регистрации, нажав на ссылку на странице авторизации.  
* ![login](https://user-images.githubusercontent.com/67114367/188317794-dd056418-53d8-4247-9539-f7ecbfa1ae6f.png)
* Следуя инструкциям, заполните необходимые поля на странице регистрации.
* ![signup](https://user-images.githubusercontent.com/67114367/188322725-42ec3b92-080e-4af7-a7bf-367765836507.png)
* После создания учётной записи необходимо подтвердить адрес электронной почты, указанный при регистрации. Вам будет выслано письмо с ссылкой, после нажатия на которую откроется страница, уведомляющая о подтверждении адреса.
* ![active_email_complete](https://user-images.githubusercontent.com/67114367/188320585-6f92386f-bb26-476e-9dc8-27dbcb32dae0.png)
## Авторизация
* При наличии учётной записи заполните поля на странице авторизации для начала работы.
* ![login](https://user-images.githubusercontent.com/67114367/188322773-8e33ed98-80b6-4800-bcaf-39c045746097.png)
* Если вы забыли пароль к своей учётной записи, нажмите на соответсвующую ссылку.
* ![login](https://user-images.githubusercontent.com/67114367/188319380-25e9c9a0-c189-4097-9028-1e82dc4408ac.png)
  * Заполните поле, введя электронный адрес. Письмо с ссылкой на страницу восстановления пароля будет отправлено на указанный адрес, если к нему привязана существующая учётная запись.
  * ![password_reset_form](https://user-images.githubusercontent.com/67114367/188320257-05d0244d-5688-43d4-a546-192c721f48e2.png)
  * Заполните поля на странице восстановления пароля.  
  * ![password_reset_confirm](https://user-images.githubusercontent.com/67114367/188320467-4306ec63-9309-4f38-a2e3-4f39bd97683e.png)
## Личный кабинет
* После авторизации открывается личный кабинет пользователя, где вы можете сменить пароль, выйти из учётной записи или приступить к работе в редакторе. 
* ![account](https://user-images.githubusercontent.com/67114367/188322371-d3645ac4-5339-4af5-81cb-00310c0f7ff2.png)
## Смена пароля
* Для смены пароля нажмите на соответствующую ссылку в личном кабинете.
* Заполните поля, следуя инструкциям.  
![password_change_form](https://user-images.githubusercontent.com/67114367/188322520-111b9689-ba2a-45e0-ad22-55fd3f3a5bab.png)
* После смены пароля откроется страница, уведомляющая об успешной смене пароля.
* ![password_change_done](https://user-images.githubusercontent.com/67114367/188322608-d2f4da0c-40ef-4e61-9cba-5d8027bab3b3.png)

# Авторство
### Состав команды:
* Виленский Сергей Дмитриевич — _руководитель проекта и `JavaScript` разработчик_ — **[![аватар Сергея](https://avatars.githubusercontent.com/u/102258145?s=20)AngelicHedgehog](https://github.com/AngelicHedgehog)**
* Фёдоров Владислав Павлович — _`html` и `JavaScript` разработчик_ — **[![аватар Влада](https://avatars.githubusercontent.com/u/52318064?s=20)GarryNeKasparov](https://github.com/GarryNeKasparov)**
* Гасаев Гамид Казимович — _`JavaScript` разработчик_ — **[![аватар Гамида](https://avatars.githubusercontent.com/u/108520625?s=20)wizardOfOz21](https://github.com/wizardOfOz21)**
* Выдрина Варвара Алексеевна — _дизайнер и `html` разработчик_ — **[![аватар Вари](https://avatars.githubusercontent.com/u/67114367?s=20)vyydra](https://github.com/vyydra)**
* Сатыбалдиев Талгат — _дизайнер и архитектор_ — **[@SatybaldievT](https://github.com/SatybaldievT)**
* Кабанов Андрей Юрьевич — _`Python` и `JavaScript` разработчик_ — **[![аватар Андрея](https://avatars.githubusercontent.com/u/60570949?s=20)Kabane-UN](https://github.com/Kabane-UN)**
### Куратор:
* Посевин Данила Павлович — **[@posevin](https://github.com/posevin)**

# Лицензия
### Рисует и точка — это пользовательский продукт с открытым исходным кодом, распространяемый под лицензией [MIT License](./LICENSE).

# Благодарность
### Нашему куратору Посевину Даниле Павловичу большое спасибо за то, что направлял и вёл наш проект, а также помогал решать все вопросы, касающиеся разработки! 💜💜💜
[^object_on_coords]: Объект на координатах — это объект, которому принадлежит точка с данными координатами, лежащий на активном слое и для которого не найдётся другого объекта на активном слое такого, что ему так же будет принадлежать данная точка и он будет находиться выше первого.
[^lkm]: ЛКМ — аббревиатура от "левая клавиша мыши".
[^bezier_curve]: https://ru.wikipedia.org/wiki/Кривая_Безье.