{% load static %}
<!DOCTYPE html>
<html lang="ru">

<head>
	<meta charset="UTF-8" />
	<title>СВГ-Редактор</title>
	<link rel="stylesheet" href="{% static 'svg_editor/css/main.css' %}">
</head>

<body>
	<!--<p style="font-size: 25px; font-weight: bold">
		{% if user.is_authenticated %}
		<a href="{% url 'account' %}">{{user.get_username}}</a>
		{% else %}
		<a href="{% url 'login' %}">Login!</a>
		{% endif %}
	</p>
	<h1>СВГ Редактор</h1>-->
	<header>
		<div class="drop-list">
			<div class="drop-button">File</div>
			<div class="drop-content">
				<div name="new-file" class="drop-moving-button">New</div>
				<div name="save-file" class="drop-moving-button">Save</div>
				<div name="download-file" class="drop-moving-button">Download</div>
				<div name="open-file" class="drop-moving-button">Open</div>
			</div>
		</div>
		<!--<div style="padding-top: 50px"><label>Name your file: </label>
	<input type="text" id="fileNameInput" value="untitled" style="width: 300px">
	<select id="save_file_type" size=1>
		<option value="svg">.svg</option>
		<option value="yml">.yml</option>
	</select>
		</div><p>
	<button id="saveFileButton">Save it!</button>

	<div class="panel">
		<button id="target">Reload</button>
		<button id="editButton">Edit</button>
		<p id="text">Click on the Reload button to get a list of saved files!<p>
		<ul id="list_svg"></ul>
	</div>

	<br>
	<input type="file" id="file" />
	<br>
	<p>
		<label>Download file name: </label>
		<input type="text" id="download_file_name" value="untitled" style="width: 300px">
		<label>.svg</label>
	</p>
	<button id="downloadButton">Download it!</button>
-->
		<div class="drop-list">
			<div class="drop-button">Edit</div>
			<div class="drop-content">
				<div name="undo" class="drop-moving-button">Undo</div>
				<div name="redo" class="drop-moving-button">Redo</div>
			</div>
		</div>
	</header>
	<div id="control-panel">
		<div id="width-parameter">
			<label for="stroke-width" id="stroke-width">Stroke width:</label>
			<input type="range" name="stroke-width" min="1" max="10" value="1" step="0.1" class="slider">
			<input type="number" min="1" max="10" value="1" class="slider-value">
		</div>
	</div>
	<div id="new-menu" class="file-menu-panel">
		<div class="moveable-part-file-menu">
			<button class="close-menu-button"></button>
		</div>
		<div class="file-menu-form">
			<label for="filename">Name:</label>
			<input name="new-filename" type="text" value="untitled">
		</div>
		<div class="file-menu-form">
			<label for="width">Width:</label>
			<input name="width" type="number" value="0">
		</div>
		<div class="file-menu-form">
			<label for="height">Height:</label>
			<input name="height" type="number" value="0">
		</div>
		<button class="ok-button">OK</button>
	</div>
	<div id="save-menu" class="file-menu-panel">
		<div class="moveable-part-file-menu">
			<button class="close-menu-button"></button>
		</div>
		<div class="file-menu-form">
			<label>Name your file:</label>
			<input id="file_name" type="text" value="untitled">
			<label>.svg</label>
		</div>
		<button id="save-button">Save it!</button>
	</div>
	<div id="download-menu" class="file-menu-panel">
		<div class="moveable-part-file-menu">
			<button class="close-menu-button"></button>
		</div>
		<div class="file-menu-form">
			<label>Download file name:</label>
			<input type="text" id="download_file_name" value="untitled">
			<label>.svg</label>
		</div>
		<button id="download-button">Download it!</button>
	</div>
	<div id="open-menu" class="file-menu-panel">
		<div class="moveable-part-file-menu">
			<button class="close-menu-button"></button>
		</div>
		<div class="file-menu-form">
			<input type="file" id="file" />
		</div>
	</div>
	<div id="container">
		<div id="tools-panel">
			<div id="tools-choosing">
				<div id="cursorTool" class="tool-button" name="cursor"></div>
				<div id="pencilTool" class="tool-button" name="pencil"></div>
				<div id="lineTool" class="tool-button" name="line"></div>
				<div id="polygonTool" class="tool-button" value="polygon"></div>
				<div id="pathTool" class="tool-button" value="path"></div>
				<div id="textTool" class="tool-button" value="text"></div>
				<div id="clear-button">Clear</div>
				<div id="color-choosing">
					<div id="color-choosing-box-main">
						<input id="color-main" class="box" type="color">
					</div>
					<div id="color-choosing-box-sub">
						<input id="color-sub" class="box" type="color">
					</div>
				</div>
				<div id="filling-type">
					<input id="fillbox" name="fill" type="checkbox" checked>
					<label for="fill">No fill</label>
				</div>
			</div>
		</div>
		<svg id="workspace"
			 version="1.1"
     		 xmlns="http://www.w3.org/2000/svg"
			 xmlns:xlink="http://www.w3.org/1999/xlink"></svg>
		<div id="addition-panel">
			<div id="layers-panel-control">
				<button id="createLayerButton" class="layers-panel-control-button">N</button>
				<button id="deleteLayerButton" class="layers-panel-control-button">D</button>
				<button id="createNewFileButton" class="layers-panel-control-button">nf</button>
				<input id="opacity_slider" type="range" min="0" max="1" step="0.01" value="1">
			</div>
			<div id="layers-panel">
			</div>
		</div>
	</div>
	{% block javascript %}
	<script src="https://cdn.jsdelivr.net/npm/@svgdotjs/svg.js@3.0/dist/svg.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<!--<script src="{% static 'svg_editor/js/design.js' %} 20220714154345"></script>
	<script src="{% static 'svg_editor/js/main.js' %}? 20220714154345"></script>
	<script src="{% static 'svg_editor/js/layers.js' %}? 202207232241"></script>
	<script src="{% static 'svg_editor/js/draw.js' %}? 20220714154345"></script>
	-->
	<script src="{% static 'svg_editor/js/design.js' %}"></script>
	<script src="{% static 'svg_editor/js/main.js' %}?"></script>
	<script src="{% static 'svg_editor/js/layers.js' %}?"></script>
	<script src="{% static 'svg_editor/js/draw.js' %}?"></script>
	<script>
		const token = "{{csrf_token}}",
			 saveURL = "{% url 'files_save' %}",
			 uploadURL = "{% url 'files_upload' %}",
			 downloadURL = "{% url 'files_download' %}",
			 viewURL = "{% url 'files_view' %}",
			 loadURL = "{% url 'files_get' %}";
			 
		const workspace = document.querySelector('#workspace');
	</script>
	{% endblock javascript %}
</body>

</html>